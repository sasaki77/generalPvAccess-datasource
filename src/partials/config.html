<datasource-http-settings current="ctrl.current">
</datasource-http-settings>

<div class="gf-form-group">
  <h3 class="page-heading">PvAccess API details</h3>

  <div class="gf-form">
    <span class="gf-form-label width-9">
      Prefix
    </span>
    <input class="gf-form-input max-width-21"
           type="text"
           ng-model="ctrl.current.jsonData.prefix"
           placeholder="RPC Name Prefix"
           required>
    </input>
  </div>

  <div class="gf-form">
    <span class="gf-form-label width-9">
      No of Parameters
    </span>
    <input class="gf-form-input max-width-21"
           type="number"
           value=0
           ng-model="ctrl.current.jsonData.noparams"
           placeholder="No of Parms"
           ng-change="ctrl.changeParamNo()"
           required>
    </input>
  </div>

  <div class="gf-form">
    <span class="gf-form-label width-9">
      Enable Search
    </span>
    <gf-form-switch label-class="width-12"
        checked="ctrl.current.jsonData.enbSearch">
    </gf-form-switch>
  </div>
</div>

<div class="gf-form-group">
  <h3 class="page-heading">PvAccess parameters</h3>

  <div ng-repeat="param in ctrl.current.jsonData.param_names track by $index">
    <div class="gf-form">
      <span class="gf-form-label width-9">
          Param {{$index}} name
      </span>
      <input class="gf-form-input max-width-21"
             type="text"
             value=0
             ng-model="ctrl.current.jsonData.param_names[$index]"
             placeholder="param name"
             required>
      </input>
    </div>
  </div>
</div>
